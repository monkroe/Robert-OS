<!DOCTYPE html>
<html lang="lt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Robert OS</title>

    <script>
        window.onerror = (m, u, l) => {
            console.error("Runtime:", m);
            const err = document.createElement('div');
            err.style = "position:fixed;top:0;left:0;width:100%;background:red;color:white;padding:10px;z-index:9999;font-size:10px";
            err.innerText = `ðŸš¨ KLAIDA: ${m}`;
            document.body.appendChild(err);
        };
    </script>

    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    borderRadius: { 'os': '2.5rem' },
                    colors: { teal: { 500: '#14b8a6' } }
                }
            }
        }
    </script>

    <style type="text/tailwindcss">
        @layer base {
            body { @apply bg-black text-white antialiased; }
        }
        .bento-card { @apply bg-[#111] border border-white/5 rounded-os; }
        @keyframes shimmer { 100% { transform: translateX(100%); } }
    </style>
</head>
<body>

    <div id="toast-container" class="fixed top-6 right-6 z-[2000] flex flex-col gap-3 w-full max-w-sm pointer-events-none"></div>
    <div id="modals-container" class="relative z-[1500]"></div>

    <main id="app" class="min-h-screen flex items-center justify-center p-4">
        <div id="boot-loader" class="text-center">
            <div class="animate-pulse text-teal-500 font-black tracking-tighter text-3xl uppercase">
                Robert OS
            </div>
            <div class="mt-4 w-24 h-1 bg-white/10 mx-auto overflow-hidden relative">
                <div class="absolute inset-0 bg-teal-500 -translate-x-full animate-[shimmer_1.5s_infinite]"></div>
            </div>
        </div>
    </main>

    <template id="modal-template">
        <div class="fixed inset-0 bg-black/80 backdrop-blur-md flex items-center justify-center p-4">
            <div class="bento-card w-full max-w-lg overflow-hidden border border-white/10 shadow-2xl">
                <div class="p-6 border-b border-white/5 flex justify-between items-center bg-white/[0.02]">
                    <h2 class="modal-title font-bold text-lg uppercase tracking-widest text-teal-500"></h2>
                    <button class="close-modal text-white/40 hover:text-white text-2xl">âœ•</button>
                </div>
                <div class="modal-content p-6 text-white/90"></div>
            </div>
        </div>
    </template>

    <template id="tmpl-tx-modal"><div class="tx-content"></div></template>
    <template id="tmpl-delete-modal"><div class="confirm-content"></div></template>
    <template id="tmpl-start-modal"><div class="start-content"></div></template>

    <script type="module">
        import { createClient } from 'https://esm.sh/@supabase/supabase-js@2';
        window.supabaseClient = createClient;

        // PaleidÅ¾iame sistemÄ…
        import('./js/app.js').then(m => {
            console.log("System initialized");
        }).catch(err => {
            console.error("Import failed:", err);
        });
    </script>
</body>
</html>
